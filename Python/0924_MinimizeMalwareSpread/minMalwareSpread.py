from collections import deque
class Solution:
    def minMalwareSpread(self, graph, initial) -> int:
        def bfs(i):
            queue, visited = deque([i]), set([i])
            path_node = 0
            while(queue):
                cur = queue.popleft()
                for idx, value in enumerate(graph[cur]):
                    if value == 1 and idx not in visited:
                        queue.append(idx)
                        path_node += 1
                        if idx != cur and idx in initial:
                            return -1
                        visited.add(idx)
            return path_node

        maxSave, result = -1, min(initial)
        for node in initial:
            save = bfs(node)
            if save > maxSave:
                maxSave, result = save, node
            elif save == maxSave:
                result = min(result, node)
        return result